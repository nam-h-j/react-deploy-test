{"ast":null,"code":"var _jsxFileName = \"/Users/user/WorkSpace/Personal/Javascript/react-first-try/src/App.js\";\nimport React, { Component, Fragment } from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport Header from './components/Header';\nimport Nav from './components/Nav';\nimport Article from './components/Article';\nimport Controls from './components/Controls';\nimport Write from './components/controls/Write';\nimport Modify from './components/controls/Modify';\nconst GlobalStyle = createGlobalStyle`\n  body,h1,button,ul,li,a,p{\n    margin: 0;\n    padding: 0;\n    list-style: none\n  }\n  form{\n    & p{\n        padding: .5em 0em;\n    }\n  }\n  body{\n    background: #eeeeee;\n  }\n`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      index: [],\n      idxNxtVal: 3,\n      cntState: 0,\n      modifyId: 0,\n      header: {\n        title: 'react-todo',\n        body: 'create-react-app + styled-components'\n      },\n      articles: [{\n        id: 1,\n        title: 'menu1',\n        body: 'article body'\n      }, {\n        id: 2,\n        title: 'menu2',\n        body: 'article2 body'\n      }, {\n        id: 3,\n        title: 'menu3',\n        body: 'article3 body'\n      }]\n    };\n  }\n\n  copyArticles(copied) {\n    return Array.from(copied);\n  }\n\n  findIndex(arr, id) {\n    return arr.findIndex(id);\n  }\n\n  editorWrite(cntState) {\n    let editor = /*#__PURE__*/React.createElement(Write, {\n      onSubmit: function (_title, _content) {\n        let _idNxtVal = this.state.idxNxtVal + 1;\n\n        let _articles = this.copyArticles(this.state.articles);\n\n        _articles.push({\n          id: _idNxtVal,\n          title: _title,\n          body: _content\n        });\n\n        this.setState({\n          idxNxtVal: _idNxtVal,\n          cntState: 0,\n          articles: _articles\n        });\n        alert(\"No.\" + _idNxtVal + \" article is ready.\");\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 18\n      }\n    });\n    return editor;\n  }\n\n  editorModify(cntState, modifyId) {\n    let modiIdx = this.findIndex(this.state.articles, modifyId);\n    let editor = /*#__PURE__*/React.createElement(Modify, {\n      data: this.state.articles[modiIdx],\n      onSubmit: function (_title, _content) {\n        let _articles = this.copyArticles(this.state.articles);\n\n        _articles[modiIdx] = {\n          id: modifyId,\n          title: _title,\n          body: _content\n        };\n        this.setState({\n          cntState: 0,\n          articles: _articles\n        });\n      }.bind(this),\n      onClick: function (cntReset) {\n        this.setState({\n          cntState: cntReset\n        });\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 18\n      }\n    });\n    return editor;\n  }\n\n  editorDelete(cntState, deleId) {}\n\n  editorFunc(cntState, id) {\n    switch (cntState) {\n      case 1:\n        return this.editorWrite(cntState);\n\n      case 2:\n        return this.editorModify(cntState, id);\n\n      case 3:\n        return this.editorDelete(cntState, id);\n\n      default:\n        console.log(\"mode is 0\");\n    }\n  }\n\n  render() {\n    console.log(\"AppRender\");\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(GlobalStyle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      title: this.state.header.title,\n      body: this.state.header.body,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Controls, {\n      getControls: function (cntNum) {\n        this.setState({\n          cntState: cntNum\n        });\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }), this.editorFunc(this.state.cntState, this.state.modifyId), /*#__PURE__*/React.createElement(Nav, {\n      index: this.state.index,\n      data: this.state.articles,\n      addNav: function (arr) {\n        this.setState({\n          index: arr\n        });\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Article, {\n      index: this.state.index,\n      data: this.state.articles,\n      modiBtn: function (cntNum, id) {\n        this.setState({\n          cntState: cntNum,\n          modifyId: id\n        });\n      }.bind(this),\n      deleBtn: function (cntNum, id) {\n        this.setState({\n          cntState: cntNum,\n          modifyId: id\n        });\n      }.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/user/WorkSpace/Personal/Javascript/react-first-try/src/App.js"],"names":["React","Component","Fragment","styled","createGlobalStyle","Header","Nav","Article","Controls","Write","Modify","GlobalStyle","App","constructor","props","state","index","idxNxtVal","cntState","modifyId","header","title","body","articles","id","copyArticles","copied","Array","from","findIndex","arr","editorWrite","editor","_title","_content","_idNxtVal","_articles","push","setState","alert","bind","editorModify","modiIdx","cntReset","editorDelete","deleId","editorFunc","console","log","render","cntNum"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport styled, {createGlobalStyle} from 'styled-components';\nimport Header from './components/Header';\nimport Nav from './components/Nav';\nimport Article from './components/Article';\nimport Controls from './components/Controls';\nimport Write from './components/controls/Write';\nimport Modify from './components/controls/Modify';\n\nconst GlobalStyle = createGlobalStyle`\n  body,h1,button,ul,li,a,p{\n    margin: 0;\n    padding: 0;\n    list-style: none\n  }\n  form{\n    & p{\n        padding: .5em 0em;\n    }\n  }\n  body{\n    background: #eeeeee;\n  }\n`\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      index: [],\n      idxNxtVal: 3,\n      cntState: 0,\n      modifyId: 0,\n      header:{title:'react-todo', body:'create-react-app + styled-components'},\n      articles : [\n        {id:1, title:'menu1', body:'article body'},\n        {id:2, title:'menu2', body:'article2 body'},\n        {id:3, title:'menu3', body:'article3 body'}\n      ]\n    }\n  }\n\n  copyArticles(copied){\n      return Array.from(copied);\n  }\n  findIndex(arr, id){\n    return arr.findIndex(id);\n  }\n  editorWrite(cntState){\n    let editor = <Write\n      onSubmit={function(_title, _content){\n          let _idNxtVal = this.state.idxNxtVal + 1;\n          let _articles = this.copyArticles(this.state.articles);\n          _articles.push({id : _idNxtVal, title : _title, body : _content});\n          this.setState({\n            idxNxtVal :_idNxtVal,\n            cntState : 0,\n            articles : _articles\n          });\n          alert(\"No.\" + _idNxtVal + \" article is ready.\");\n      }.bind(this)}></Write>\n    return editor;\n  };\n\n  editorModify(cntState, modifyId){\n    let modiIdx = this.findIndex(this.state.articles, modifyId);\n    let editor = <Modify\n      data = {this.state.articles[modiIdx]}\n      onSubmit = {function(_title, _content){\n        let _articles = this.copyArticles(this.state.articles);\n        _articles[modiIdx] = {id: modifyId, title:_title, body:_content};\n        this.setState({\n          cntState : 0,\n          articles : _articles\n        })\n      }.bind(this)}\n      onClick = {function(cntReset){\n        this.setState({cntState : cntReset});\n      }.bind(this)}>\n    </Modify>\n    return editor;\n  }\n\n  editorDelete(cntState, deleId){\n\n  };\n\n  editorFunc(cntState, id){\n    switch(cntState){\n      case 1 : return this.editorWrite(cntState);\n      case 2 : return this.editorModify(cntState, id);\n      case 3 : return this.editorDelete(cntState, id);\n      default : console.log(\"mode is 0\");\n    }\n  }\n\n\n  render(){\n    console.log(\"AppRender\");\n    return (\n      <Fragment>\n        <GlobalStyle/>\n\n        <Header\n          title={this.state.header.title}\n          body={this.state.header.body}\n        ></Header>\n\n        <Controls\n          getControls={\n            function(cntNum){\n              this.setState({cntState : cntNum})\n            }.bind(this)\n          }></Controls>\n\n        {this.editorFunc(this.state.cntState, this.state.modifyId)}\n\n        <Nav\n          index={this.state.index}\n          data={this.state.articles}\n          addNav={\n            function(arr){\n              this.setState({index : arr})\n            }.bind(this)}\n        ></Nav>\n\n        <Article\n          index={this.state.index}\n          data={this.state.articles}\n          modiBtn={\n            function(cntNum, id){\n              this.setState({\n                cntState : cntNum,\n                modifyId : id\n              })\n            }.bind(this)}\n          deleBtn={\n            function(cntNum, id){\n              this.setState({\n                cntState : cntNum,\n                modifyId : id\n              })\n            }.bind(this)}\n          ></Article>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}